# 5.Функции

## Задание 1
```javascript
let name = prompt("Ваше имя:");
let age = prompt("Сколько Вам лет?");       

age = Number(age);

if(isNaN(age) || age % 1 !== 0 || age < 10 || age > 100) {
   alert("Ошибочный возраст");
   }
else {
    showMessage(name, age);
}

function showMessage(name, age) {
  let word;

  // Берём последние две цифры возраста
  let lastTwo = Math.abs(age) % 100;
  // Берём последнюю цифру
  let lastOne = lastTwo % 10;

  if (lastTwo >= 11 && lastTwo <= 19) {
    // Особый случай: 11–19 всегда "лет"
    word = "лет";
  } else if (lastOne === 1) {
    word = "год";
  } else if (lastOne >= 2 && lastOne <= 4) {
    word = "года";
  } else {
    word = "лет";
  }

  let message = `Привет, ${name}! Вам ${age} ${word}.`;

  alert(message);
}
```

## Задание 2
```javascript
/* ввести число и точность */        
let num = +(prompt('Число:'));
let k = +prompt('Количество знаков:');

/* вызвать функцию и вывести ее результат*/
alert(round(num, k));

/* реализовать функцию округления */
function round(num, k) {
    if(isNaN(num) || !isFinite(num) || isNaN(k) || !isFinite(k) || k < 0 || k % 1 !== 0) {
        return false;    
    }
    let result = num.toFixed(k);
    return parseFloat(result);       
}
```


## Задание 3
```javascript
let s = prompt("Сумма:");
let n = prompt("Срок:");
let k = prompt("Процент:");

s = Number(s);
n = Number(n);
k = Number(k);

if(isNaN(s) || isNaN(n) || isNaN(k) || s <= 0 || n <= 0 || k <= 0 || n % 1 !== 0) {
   alert("Ошибочное число");
}
   else { 
      function pd(t) {
           return s / n + (s - (t - 1) * s / n) * k / (12 * 100);
       }
       let ka = k / (12 * 100);
       let pa = (ka * (1 + ka) ** n / ((1 + ka) ** n - 1)) * s;
       
       function fmt(x) { 
           return Math.round(x * 100) / 100;
       }
       
       let html = "<table><tr><th>Месяц</th><th>Дифференцированная выплата</th><th>Аннуитетная выплата</th></tr>";

let totalDiff = 0;
let totalAnn = 0;

       for(let t = 1; t <= n; t++) { 
let pdVal = fmt(pd(t));
let paVal = fmt(pa);

totalDiff += pdVal;
totalAnn += paVal;

html += `<tr><td>${t}</td><td>${pdVal}</td><td>${paVal}</td></tr>`;
 } 
let incomeDiff = fmt(totalDiff - s);
let incomeAnn = fmt(totalAnn - s);

html += `<tr><td>Доход банка</td><td>${incomeDiff}</td><td>${incomeAnn}</td></tr></table>`;

document.write(html);
   }
```


## Задание 4
```javascript
function sum(a, b) {
    let result = a + b;
}
sum(3, 4);
alert(result); // result is not defined

function sum(a, b) {
    result = a + b;
}
sum(3, 4);
alert(result); // 7

function sum(a, b) {
    let result = a + b;
}
let result = 1;
sum(3, 4);
alert(result); // 1
```

## Задание 5
```javascript
function createGallery() {
    let odd = ''
    let even = ''
    for(let i = 1; i <= arguments.length; i++){
        if(i % 2 == 0){
            even += `<img src="${arguments[i-1]}">` 
        } else {
            odd += `<img src="${arguments[i-1]}">`
        }
    }
    return `<div class="gallery">${even}${odd}</div>`
}
```

## Задание 6
```javascript
let factorFlex = function() {
    let sum_arg = arguments[1] + arguments[2] + arguments[3];
    let coeff = Math.trunc(arguments[0] / sum_arg * 1000) / 1000
    return coeff;
}
```


## Задание 7
```javascript
const widthBlock = (imgsMaxWidth, ...imgsWidths) => {
    const avgWidth = (Math.min(...imgsWidths) + Math.max(...imgsWidths)) / 2;
    const imgsSumWidth = Math.round(avgWidth * imgsWidths.length);
    
    if(imgsSumWidth > imgsMaxWidth) {
        return imgsMaxWidth;
    }
    
    return imgsSumWidth;
};
```


## Задание 8
```javascript
function getOperation(operation, a, b) {
    operation = eval(operation);
  return operation(a, b);
};


let add = (num1, num2) => num1 + num2;
let sub = (num1, num2) => num1 - num2;
let prod = (num1,num2) => num1 * num2;
let min = (num1, num2) => Math.min(num1, num2);
let max = (num1, num2) => Math.max(num1, num2);
let avg = (num1, num2) => (num1 + num2) / 2;
```


## Задание 9
```javascript
let getOneNumber = (num) => {
    if (num < 10)return num
    else{
        _sum = 0
        while (num > 0){
            _sum += num % 10
            num = Math.floor(num/10)
        }
        return getOneNumber(_sum)
    }
}

let s = prompt('Дата рождения:');
let n = prompt('Дата события:');

if (isNaN(parseInt(s)) || !isFinite(s) || Number(s) <= 0)alert("Ошибочное число");
else if (isNaN(parseInt(n)) || !isFinite(n) || Number(n) <= 0)alert("Ошибочное число");
else document.write(getOneNumber(getOneNumber(s) + getOneNumber(n)))
```
